[mypy]
# Enable strict mode
strict = True

# Django-specific settings
plugins = mypy_django_plugin.main

# Ignore missing imports for common packages that don't have type stubs
ignore_missing_imports = True

# Allow variable to be redefined with a different type
allow_redefinition = True

# Django plugin configuration
[mypy.plugins.django-stubs]
django_settings_module = pharmacy_api.settings.development

# Desativa erros para classes base que não são totalmente tipadas (DRF, factories)
[mypy-*.views,*.serializers,*.factories]
ignore_errors = True

# Desativa erros para decoradores não tipados (pytest fixtures, celery tasks)
[mypy-*.tests.*,*.tasks,conftest]
disallow_untyped_decorators = False

# Ignore missing imports for factory-boy library
[mypy-factory_boy.*]
ignore_missing_imports = True

# Handle Django models and querysets
[mypy-apps.*.models]
disable_error_code = assignment

# Handle Django admin
[mypy-apps.*.admin]
disable_error_code = assignment